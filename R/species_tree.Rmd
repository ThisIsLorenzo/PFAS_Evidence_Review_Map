---
title: "species tree"
author: "LR"
date: "2022-10-31"
output: html_document
---
https://github.com/elmacartney/Nongen_map_of_reviews/blob/main/R/Main_Figures.Rmd#L140
```{r setup, include = TRUE}

library(tidyverse)
library(here)
library(stringr)
library(knitr)
library(formatR)
library(forcats)
library(ggplot2)
library(hrbrthemes) #for ggplot2
library(patchwork) #for ggplot2
library(bibliometrix)
library(igraph)
library(xtable)
library(kableExtra)
library(patchwork)
library(rotl)

knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)

# Data from .csv file - Species_info sheet
spdata <- read_csv(here("data","ReviewMap_PFAS_species.csv"), skip = 0)

spdata <- 
  spdata %>%
  select(-ends_with("checked"))

length(unique(spdata$Species_common_name)) # 104

# Make a table of how many words each name has:
table((lengths(gregexpr("\\W+", spdata$Species_common_name)) + 1)) 
table((lengths(gregexpr("\\W+", spdata$Species_scientific_name)) + 1)) 

taxa <- tnrs_match_names(unique(spdata$Species_scientific_name))
#Warning message: Peregrine falcon are not matched

```


